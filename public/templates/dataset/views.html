<md-content layout-padding ng-if="dataset.uid">
 

    <form name="viewsForm" ng-submit="submitForm(!viewsForm.$invalid && viewsForm.$dirty)">
        <md-input-container class="md-block" flex-gt-sm>
            <label>Default View</label>
            <md-select required name="default"
                       ng-model="dataset.fe_views.default_view">
                <md-option ng-repeat="view in views" value="{{view.name}}">
                    {{view.displayAs}}
                </md-option>
            </md-select>
            <div ng-messages="viewsForm.default.$error">
                <div ng-message="required">This is required.</div>
            </div>
        </md-input-container>

        <div class="table-container">
            <table class="table data">
                <thead>
                <tr>
                    <th>Visibility</th>
                    <th>ViewName</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="view in views"
                    ng-click="openViewDialog($event, view._id)">
                    <td>
                        <md-checkbox name="fe_excludeFields[]" ng-model="dataset.fe_views.views[view.name].visible"
                                     aria-label="Exclude {{colName}}" ng-click="$event.stopPropagation()"></md-checkbox>
                    </td>
                    <td><span class="{{ view.icon }}"></span>{{ view.displayAs}}</td>
        
                </tr>
                </tbody>
            </table>
        </div>

        <div layout="row" layout-align="end center" class="panel-footer">
            <md-button class="md-raised" ng-click="reset()" ng-disabled="!viewsForm.$dirty">
                <i class="glyphicon glyphicon-refresh"></i> Reset
            </md-button>

            {{viewsForm}}
            <md-button class="md-raised" type="submit" ng-disabled="viewsForm.$invalid || !viewsForm.$dirty">
                <i class="glyphicon glyphicon-ok"></i> Save
            </md-button>
        </div>
    </form>
</md-content>
