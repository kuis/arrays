<md-content layout-padding ng-if="dataset.fe_views.default_view">
    <div>
        <h2 ng-if="dataset.dirty">You're almost done!<br/>The data must be imported to take effect some of your changes </h2>

        <md-content class="md-block md-padding" ng-show="inProgress">
            <md-progress-linear md-mode="indeterminate"></md-progress-linear>
        </md-content>

        <md-content class="md-block" md-colors="{background: 'grey'}">
            <p ng-repeat="message in importLogger">{{message}}</p>
        </md-content>

        <div layout="row" layout-align="end center" class="panel-footer" ng-if="dataset.dirty">
            <md-button class="md-raised pull-right" ng-click="importData()" ng-disabled="inProgress"><span
                    class="glyphicon glyphicon-import"></span>{{ inProgress ? 'Importing' : 'Import' }}
            </md-button>
        </div>
    </div>

    <div ng-if="!dataset.dirty && dataset.imported">
        <h2>Congratulations! You're all done!</h2>
        <h2>View your <strong><a href="/{{dataset.uid}}-r{{dataset.importRevision}}/{{dataset.fe_views.default_view | viewToName }}" target="_self" >array</a></strong></h2>

        <!-- <button class="btn btn-primary">List on arrays.co</button> -->

         <md-switch md-invert ng-model="dataset.isPublished" ng-change="togglePublish()" aria-label="Switch 1">
              <label>Public/Private</label>
         </md-switch>
    </div>
</md-content>
<ng-include src="'/templates/blocks/dataset.empty.html'" ng-if="!dataset.fe_views.default_view"></ng-include>