<nav id="accordion" class="sidebar-filter" role="navigation" aria-multiselectable="true">
	<ul class="sidebar-filter-group">
        {% for fieldName, fieldValues in uniqueFieldValuesByFieldName %}
		<li class="sidebar-filter-group-item">
			<a class="collapse-trigger" role="button" href="#column-a" aria-expanded="false" aria-controls="column-a">
                {{ fieldName }}
            </a>
			<ul id="column-a" class="sidebar-filter-subgroup collapse">
                {% for fieldValue in fieldValues %}
                {% set queryParamJoinChar = "?" if routePath_withoutFilter == routePath_base else "&" %}
                {% set isThisTheActiveFilter = false %}
                {% if isFilterActive %}
                    {% if fieldName == filterCol %}
                        {% if fieldValue == filterVal %}
                            {% set isThisTheActiveFilter = true %}
                        {% endif %}
                    {% endif %}
                {% endif %}
				<li class="sidebar-filter-subgroup-item">
                        {% set urlForFilterValue = routePath_withoutFilter + queryParamJoinChar + "filterCol=" + fieldName  + "&filterVal=" + fieldValue %}
                    {% if isThisTheActiveFilter %}
                        {% set urlForFilterValue = routePath_withoutFilter %}
                    {% endif %}
                    <a href="{{ urlForFilterValue }}" class="{{ "sidebar-filter-active" if isThisTheActiveFilter else "" }}">
                        {{ fieldValue }}
                    </a>
                </li>
                {% endfor %}
			</ul>
		</li>
        {% endfor %}
	</ul>
</nav>