{% set currentView = ['dataset'] %}

{% extends "../../layout/admin.html" %}

{% block headSuffix %}
<title>Admin - Arrays</title>
{% endblock %}

{% block content %}
<header class="admin-header">
    <h1 class="admin-title">Dataset Settings</h1>
</header>

{% if flash | length %}
<div class="alert alert-success" role="alert">{{ flash }}</div>
{% elif error | length %}
<div class="alert alert-danger" role="alert">{{ error }}</div>
{% endif %}

<div class="dataset">

    <h4><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Select a dataset to edit</h4>
    {% for doc in docs %}
    <form method="post" action="/admin/dataset/remove" class="remove">
        <input type="hidden" name="id" value="{{ doc._id }}"/>

        <p>
            {{ loop.index }}. <a class="dataset_item" href="/admin/dataset/{{ doc._id }}/settings">{{ doc.title }} ({{ doc.importRevision }})</a>
            <button><span class="glyphicon glyphicon-remove"></span></button>
        </p>
    </form>
    {% endfor %}

    <p> Or </p>

    <h4><a href="/admin/dataset/new/settings"><span class="glyphicon glyphicon-upload" aria-hidden="true"></span> Upload new dataset</a></h4>

</div>

{% endblock %}

{% block inlineScript %}
{{ super() }}

<script type="text/javascript" src="/javascripts/admin/dataset.js"></script>

{% endblock %}