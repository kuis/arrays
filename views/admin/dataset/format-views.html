{% set currentView = ['dataset', 'format-views'] %}

{% extends "../../layout/admin.html" %}

{% block headSuffix %}
	<title>Admin - Arrays</title>
{% endblock %}

{% block content %}
	<header class="admin-header">
		<h1 class="admin-title">{{doc.title}} - Format Views</h1>
	</header>

	<input type="hidden" id="doc_id" value="{{ doc._id }}"/>
	<input type="hidden" id="doc_title" value="{{ doc.title }}"/>

	{% if flash | length %}
	<div class="alert alert-success" role="alert">{{ flash }}</div>
	{% elif error | length %}
	<div class="alert alert-danger" role="alert">{{ error }}</div>

	{% endif %}

	<div class="dataset format">
		{% include "../../partials/admin/dataset-breadcrumb.html" %}

		<br />

		<form class="format-views">
			<div class="form-group row">
				<a class="add pull-right col-xs-1" data-placement="bottom" data-toggle="tooltip" title="Click individual view to customize this "><span class="glyphicon glyphicon-question-sign"></span></a>
				
				<label class="col-xs-4" for="default_view">Default View : </label>
				<div class="col-xs-7  text-center"> 
					<label id="showDefault_view"> {{ available_forViewTypes | findViewDisplayName(doc.fe_views.default_view) }}</label>

				</div>
			</div>

			<div >
				<table id="views" class="table">
				<thead>
				<tr>
					<th id="view_visibility">Visibility</th>
					<th>View Type</th>
				</tr>
				</thead>
				<tbody>
				{% for view in available_forViewTypes %}
				<tr class="views" view-type-name="{{ view.name }}">
					<td class="visibility"><input value="{{view.name}}" type="checkbox" {{ 'checked' if
						doc.fe_views.views[view.name].visible == true  }} disabled></td>
					<td><span class="{{ view.icon }}" id="{{view.name}}" view-display-name="{{view.displayAs}}"></span>{{ view.displayAs }}</td>
				</tr>
				{% endfor %}
				</tbody>
			</table>
			</div>
		</form>
		
		<div class="format">
			
		</div>

	</div>


	<div class="panel-footer">
		<a class="btn btn-default pull-left" href="format-data"><span class="glyphicon glyphicon-hand-left"></span> Back</a>
		<a type="submit" class="btn btn-default pull-right" href="done"><span class="glyphicon glyphicon-hand-right"></span> Next </a>
		<div class="clearfix"></div>
	</div>


	{% include "../../partials/admin/modal.html" %}

{% endblock %}

{% block inlineScript %}
	{{ super() }}

	<script type="text/javascript" src="/javascripts/module/admin/dataset.js"></script>

	<script type="text/javascript" src="/javascripts/vendors/chosen/chosen.jquery.js"></script>

	<script type="text/javascript" src="/javascripts/vendors/spectrum/spectrum.js"></script>
	<script type="text/javascript" src="/javascripts/vendors/form2js/form2js.js"></script>
	<script type="text/javascript" src="/javascripts/vendors/form2js/jquery.toObject.js"></script>
	<script type="text/javascript" src="/javascripts/vendors/form2js/js2form.js"></script>


{% endblock %}