{% extends "../../layout/ajax.html" %}

{% block content %}
<form class="format-field">
    <div class="form-group">
        <div class="col-xs-4">
            <label class="form-control">Name</label>
        </div>
        <div class="col-xs-8">
            <input id="name" name="name" class="form-control" value="{{ field }}" disabled/>
        </div>
    </div>

    <div class="form-group">
        <div class="col-xs-4">
            <label for="dataType" class="form-control">Data Type</label>
        </div>
        <div class="col-xs-8">
            <select id="dataType" class="form-control" name="dataType">
                {% for operation in availableOperations_forFieldDataType_coercion %}
                <option value="{{ operation | fieldDataType_coercion }}" {{ 'selected' if operation | fieldDataType_coercion == doc.raw_rowObjects_coercionScheme[field] | fieldDataType_coercion }}>{{ operation | fieldDataType_coercion }}
                </option>
                {% endfor %}
            </select>
        </div>
    </div>

    <div class="form-group">
        <div class="col-xs-4">
            <label for="dataFormat" class="form-control">Format</label>
        </div>
        <div class="col-xs-8">
            <input type="text" id="dataFormat" name="dataFormat" class="form-control"
                   value="{{ doc.raw_rowObjects_coercionScheme[field].format | safe }}"
                   title="Specify in which format the field is listed on the source file."/>
        </div>
    </div>

    <div class="form-group">
        <div class="col-xs-4">
            <label for="dataOutputFormat" class="form-control">Output Format</label>
        </div>
        <div class="col-xs-8">
            <input type="text" id="dataOutputFormat" name="dataOutputFormat" class="form-control"
                   value="{{ doc.raw_rowObjects_coercionScheme[field].outputFormat | safe }}"
                   title="Specify in which output format the field will be used to display, if you want to customize the field format"/>
        </div>
    </div>

    <div class="form-group">
        <div class="col-xs-4">
            <label for="use" class="form-control">Use</label>
        </div>
        <div class="col-xs-8">
            <input type="checkbox" id="use" name="use" {{ 'checked=checked' if
            not doc.fe_excludeFields | doesArrayContain(field) }}/>
        </div>
    </div>

    <div class="form-group">
        <div class="col-xs-4">
            <label for="titleOverride" class="form-control">Title Override</label>
        </div>
        <div class="col-xs-8">
            <input type="text" id="titleOverride" class="form-control" value="{{ doc.fe_displayTitleOverrides[field] | safe }}"/>
        </div>
    </div>

    <div class="form-group">
        <div class="col-xs-4">
            <label for="displayOrder" class="form-control">Display Order</label>
        </div>
        <div class="col-xs-8">
            <input type="number" id="displayOrder" class="form-control" value="{{ doc.fe_fieldDisplayOrder[field] | safe }}"/>
        </div>
    </div>

    <div class="form-group">
        <div class="col-xs-4">
            <label for="designedField" class="form-control">Designed Field</label>
        </div>
        <div class="col-xs-8">
            <select id="designedField" name="designatedField" class="form-control">
                <option value="">Not used</option>
                <option value="objectTitle" {{ 'selected' if doc.fe_designatedFields.objectTitle == field }}>Object Title</option>
                <option value="originalImageURL" {{ 'selected' if doc.fe_designatedFields.originalImageURL == field }}>Original Image URL</option>
                <option value="medThumbImageURL" {{ 'selected' if doc.fe_designatedFields.medThumbImageURL == field }}>Medium Thumb Image URL</option>
            </select>
        </div>
    </div>

    {# Filters #}
    <h4>Filter</h4>

    <div class="form-group">
        <div class="col-xs-8">
            <label for="filter_notAvailable" class="form-control">Not Available</label>
        </div>
        <div class="col-xs-4">
            <input type="checkbox" id="filter_notAvailable" name="filter_notAvailable" {{ 'checked=checked' if
            doc.fe_filters.fieldsNotAvailable | doesArrayContain(field) }}/>
        </div>
    </div>

    <div class="form-group">
        <div class="col-xs-8">
            <label for="filter_commanSeparatedAsIndividual" class="form-control">Comma Separated As Individual</label>
        </div>
        <div class="col-xs-4">
            <input type="checkbox" id="filter_commanSeparatedAsIndividual" name="filter_commanSeparatedAsIndividual"
                   {{ 'checked=checked' if doc.fe_filters.fieldsCommaSeparatedAsIndividual | doesArrayContain(field) }}/>
        </div>
    </div>

    <div class="form-group">
        <div class="col-xs-8">
            <label for="filter_multiSelectable" class="form-control">Allow Multiple Selection</label>
        </div>
        <div class="col-xs-4">
            <input type="checkbox" id="filter_multiSelectable" name="filter_multiSelectable"
                   {{ 'checked=checked' if doc.fe_filters.fieldsMultiSelectable | doesArrayContain(field) }}/>
        </div>
    </div>

    <div class="form-group">
        <div class="col-xs-8">
            <label for="filter_oneToOneOverrideWithValuesByTitleByFieldName" class="form-control">One To One Override Values By Title</label>
        </div>
        <div class="col-xs-4">
            <input type="checkbox" id="filter_oneToOneOverrideWithValuesByTitleByFieldName" name="filter_oneToOneOverrideWithValuesByTitleByFieldName"
                   {{ 'checked=checked' if doc.fe_filters.oneToOneOverrideWithValuesByTitleByFieldName | doesArrayContain(field) }}/>
        </div>
    </div>

    {# Relationships #}
    <h4>Relationships</h4>

    <div class="form-group">
        <div class="col-xs-4">

        </div>
        <div class="col-xs-8">

        </div>
    </div>


    <div class="form-group">
        <div class="col-xs-offset-4 col-xs-4">
            <h5>Data: {{ doc.title }}</h5>
        </div>
        <div class="col-xs-4">
            <button id="done" class="pull-right form-control">Done</button>
        </div>
    </div>
</form>
{% endblock %}