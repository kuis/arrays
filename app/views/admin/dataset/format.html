{% set view = 'dataset' %}

{% extends "../../layout/admin.html" %}

{% block headSuffix %}
	<title>Admin - Arrays</title>
{% endblock %}

{% block content %}
	<header class="admin-header">
		<h1 class="admin-title">{{ pageTitle }}</h1>
	</header>

	{% if flash | length %}
	<div class="alert alert-success" role="alert">{{ flash }}</div>
	{% endif %}

	<div class="dataset format">
		<ul class="steps">
			<li><span class="glyphicon glyphicon-check"></span>{% if id %}<a href="source">{% endif %}1. Upload Data{% if id %}</a>{% endif %}</li>
			<li><span class="glyphicon glyphicon-unchecked"></span>2. Format</li>
			<li><span class="glyphicon glyphicon-unchecked"></span>{% if id %}<a href="settings">{% endif %}3. Settings{% if id %}</a>{% endif %}</li>
			<li><span class="glyphicon glyphicon-unchecked"></span> Done!</li>
		</ul>

		<br />

		<div class="format">
			<table class="table">
				<thead>
				<tr>
					<th>#</th>
					<th>Column Name</th>
					<th>Type</th>
					<th>Sample</th>
				</tr>
				</thead>
				<tbody>
				{% for colName in colNames %}
				<tr>
					<th scope="row">{{ loop.index }}</th>
					<td>{{ colName }}</td>
					<td>
						{% if doc.raw_rowObjects_coercionScheme %}
						{{ doc.raw_rowObjects_coercionScheme[colName].do if doc.raw_rowObjects_coercionScheme[colName]  else 'String' }}
						{% else %}
						String
						{% endif %}
					</td>
					<td>{{ firstRecord[loop.index0] }}</td>
				</tr>
				{% endfor %}
				</tbody>
			</table>

			<div class="panel-footer">
				<a class="btn btn-default pull-left" href="source"><span class="glyphicon glyphicon-hand-left"></span> Back</a>
				<button type="submit" class="btn btn-default pull-right"><span class="glyphicon glyphicon-hand-right"></span> Next</button>
				<div class="clearfix"></div>
			</div>
		</div>

		<form>

		</form>
	</div>

{% endblock %}

{% block inlineScript %}
	{{ super() }}

	<script type="text/javascript" src="/javascripts/module/admin/dataset.js"></script>
{% endblock %}